(function(){var t,e=this,n=function(t){return void 0!==t},r=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e},o=function(t){return"string"==typeof t},a=function(t,e){function n(){}n.prototype=e.prototype,t.sa=e.prototype,t.prototype=new n,t.ra=function(t,n,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[n].apply(t,o)}},i=function(t,e,n){function r(){f||(f=!0,e.apply(null,arguments))}function o(e){c=setTimeout(function(){c=null,t(a,2===l)},e)}function a(t,e){if(!f)if(t)r.apply(null,arguments);else if(2===l||s)r.apply(null,arguments);else{64>u&&(u*=2);var n;1===l?(l=2,n=0):n=1e3*(u+Math.random()),o(n)}}function i(t){p||(p=!0,f||(null!==c?(t||(l=2),clearTimeout(c),o(0)):t||(l=1)))}var u=1,c=null,s=!1,l=0,f=!1,p=!1;return o(0),setTimeout(function(){s=!0,i(!0)},n),i},u="https://firebasestorage.googleapis.com",c=function(t,e){this.code="storage/"+t,this.message="Firebase Storage: "+e,this.serverResponse=null,this.name="FirebaseError"};a(c,Error);var s=function(){return new c("unknown","An unknown error occurred, please check the error payload for server response.")},l=function(){return new c("canceled","User canceled the upload/download.")},f=function(){return new c("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")},p=function(t,e,n){return new c("invalid-argument","Invalid argument in `"+e+"` at index "+t+": "+n)},h=function(){return new c("app-deleted","The Firebase app was deleted.")},d=function(t,e){return new c("invalid-format","String does not match format '"+t+"': "+e)},b=function(t){throw new c("internal-error","Internal error: "+t)},y=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},g=function(t){var e={};return y(t,function(t,n){e[t]=n}),e},w=function(t){if("undefined"!=typeof firebase)return new firebase.Promise(t);throw Error("Error in Firebase Storage - be sure to load firebase-app.js first.")},v=function(t,e,n,r){this.h=t,this.b={},this.method=e,this.headers={},this.body=null,this.j=n,this.l=this.a=null,this.c=[200],this.g=[],this.timeout=r,this.f=!0},m={STATE_CHANGED:"state_changed"},A={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"},E=function(t){switch(t){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";case"error":return"error";default:return"error"}},k=function(t){return n(t)&&null!==t},x=function(t){return"string"==typeof t||t instanceof String},S=function(){return"undefined"!=typeof Blob},R=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))};a(R,Error);var U=function(t,e){var n=Tt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)},T=function(t,e){for(var n=t.split("%s"),r="",o=Array.prototype.slice.call(arguments,1);o.length&&1<n.length;)r+=n.shift()+o.shift();return r+n.join("%s")},O=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},j=function(t,e){return t<e?-1:t>e?1:0},C=function(t){return function(){var e=[];Array.prototype.push.apply(e,arguments),firebase.Promise.resolve(!0).then(function(){t.apply(null,e)})}},I=function(t,e){this.bucket=t,this.path=e},L=function(t){var e=encodeURIComponent;return"/b/"+e(t.bucket)+"/o/"+e(t.path)},N=function(t){for(var e=null,n=[{K:/^gs:\/\/([A-Za-z0-9.\-]+)(\/(.*))?$/i,G:{bucket:1,path:3},J:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path=t.path.slice(0,-1))}},{K:/^https?:\/\/firebasestorage\.googleapis\.com\/v[A-Za-z0-9_]+\/b\/([A-Za-z0-9.\-]+)\/o(\/([^?#]*).*)?$/i,G:{bucket:1,path:3},J:function(t){t.path=decodeURIComponent(t.path)}}],r=0;r<n.length;r++){var o=n[r],a=o.K.exec(t);if(a){e=a[o.G.bucket],(a=a[o.G.path])||(a=""),e=new I(e,a),o.J(e);break}}if(null==e)throw new c("invalid-url","Invalid URL '"+t+"'.");return e},B=function(t,e,n){"function"==r(t)||k(e)||k(n)?(this.c=t,this.a=e||null,this.b=n||null):(this.c=t.next||null,this.a=t.error||null,this.b=t.complete||null)},M={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},P=function(t){switch(t){case"raw":case"base64":case"base64url":case"data_url":break;default:throw"Expected one of the event types: [raw, base64, base64url, data_url]."}},F=function(t,e){this.b=t,this.a=e||null},D=function(t,e){switch(t){case"raw":return new F(G(e));case"base64":case"base64url":return new F(_(t,e));case"data_url":return t=new z(e),t=t.a?_("base64",t.c):G(t.c),new F(t,new z(e).b)}throw s()},G=function(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(127>=r)e.push(r);else if(2047>=r)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var o=t.charCodeAt(++n),r=65536|(1023&r)<<10|1023&o;e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)},_=function(t,e){switch(t){case"base64":var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw d(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case"base64url":if(n=-1!==e.indexOf("+"),r=-1!==e.indexOf("/"),n||r)throw d(t,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(e)}catch(e){throw d(t,"Invalid character found")}for(t=new Uint8Array(o.length),e=0;e<o.length;e++)t[e]=o.charCodeAt(e);return t},z=function(t){var e=t.match(/^data:([^,]+)?,/);if(null===e)throw d("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");if(e=e[1]||null,this.a=!1,this.b=null,null!=e){var n=e.length-7;this.b=(this.a=0<=n&&e.indexOf(";base64",n)==n)?e.substring(0,e.length-7):e}this.c=t.substring(t.indexOf(",")+1)},X=function(t){var e=encodeURIComponent,n="?";return y(t,function(t,r){t=e(t)+"="+e(r),n=n+t+"&"}),n=n.slice(0,-1)},H=function(){var t=this;this.a=new XMLHttpRequest,this.c=0,this.f=w(function(e){t.a.addEventListener("abort",function(){t.c=2,e(t)}),t.a.addEventListener("error",function(){t.c=1,e(t)}),t.a.addEventListener("load",function(){e(t)})}),this.b=!1},W=function(t,e,n,r,o){if(t.b)throw b("cannot .send() more than once");return t.b=!0,t.a.open(n,e,!0),k(o)&&y(o,function(e,n){t.a.setRequestHeader(e,n.toString())}),k(r)?t.a.send(r):t.a.send(),t.f},q=function(t){if(!t.b)throw b("cannot .getErrorCode() before sending");return t.c},K=function(t){if(!t.b)throw b("cannot .getStatus() before sending");try{return t.a.status}catch(t){return-1}},Z=function(t){if(!t.b)throw b("cannot .getResponseText() before sending");return t.a.responseText};H.prototype.abort=function(){this.a.abort()};var J=function(t,e,n,r,o,a){this.b=t,this.h=e,this.f=n,this.a=r,this.g=o,this.c=a};t=J.prototype,t.V=function(){return this.b},t.qa=function(){return this.h},t.na=function(){return this.f},t.ia=function(){return this.a},t.W=function(){if(k(this.a)){var t=this.a.downloadURLs;return k(t)&&k(t[0])?t[0]:null}return null},t.pa=function(){return this.g},t.la=function(){return this.c};var V=function(t,e){e.unshift(t),R.call(this,T.apply(null,e)),e.shift()};a(V,R);var $,Y=function(t,e,n){if(!t){var r=Array.prototype.slice.call(arguments,2),o="Assertion failed";if(e)var o=o+(": "+e),a=r;throw new V(""+o,a||[])}};t:{var Q=e.navigator;if(Q){var tt=Q.userAgent;if(tt){$=tt;break t}}$=""}var et=function(){},nt=Array.prototype.indexOf?function(t,e,n){return Y(null!=t.length),Array.prototype.indexOf.call(t,e,n)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,o(t))return o(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},rt=Array.prototype.forEach?function(t,e,n){Y(null!=t.length),Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,a=o(t)?t.split(""):t,i=0;i<r;i++)i in a&&e.call(n,a[i],i,t)},ot=Array.prototype.filter?function(t,e,n){return Y(null!=t.length),Array.prototype.filter.call(t,e,n)}:function(t,e,n){for(var r=t.length,a=[],i=0,u=o(t)?t.split(""):t,c=0;c<r;c++)if(c in u){var s=u[c];e.call(n,s,c,t)&&(a[i++]=s)}return a},at=Array.prototype.map?function(t,e,n){return Y(null!=t.length),Array.prototype.map.call(t,e,n)}:function(t,e,n){for(var r=t.length,a=Array(r),i=o(t)?t.split(""):t,u=0;u<r;u++)u in i&&(a[u]=e.call(n,i[u],u,t));return a},it=function(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]},ut=function(t,e){return e=ot(e.split("/"),function(t){return 0<t.length}).join("/"),0===t.length?e:t+"/"+e},ct=function(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)},st=function(t,e,n,r,o,a,i,u,c,s,l){this.C=t,this.A=e,this.v=n,this.o=r,this.B=o.slice(),this.m=a.slice(),this.j=this.l=this.c=this.b=null,this.f=this.g=!1,this.s=i,this.h=u,this.D=l,this.w=c;var f=this;this.u=w(function(t,e){f.l=t,f.j=e,ft(f)})},lt=function(t,e,n){this.b=t,this.c=e,this.a=!!n},ft=function(t){function e(t,e){e?t(!1,new lt(!1,null,!0)):(e=new H,e.a.withCredentials=o.D,o.b=e,W(e,o.C,o.A,o.o,o.v).then(function(e){o.b=null;var n=0===q(e),r=K(e);if(!(n=!n)){var a,i=o,n=500<=r&&600>r;a=0<=nt([408,429],r),i=0<=nt(i.m,r),n=n||a||i}n?(e=2===q(e),t(!1,new lt(!1,null,e))):(r=0<=nt(o.B,r),t(!0,new lt(r,e)))}))}function r(t,e){var r=o.l;t=o.j;var a=e.c;if(e.b)try{var i=o.s(a,Z(a));n(i)?r(i):r()}catch(e){t(e)}else null!==a?(e=s(),i=Z(a),e.serverResponse=i,t(o.h?o.h(a,e):e)):(e=e.a?o.f?h():l():new c("retry-limit-exceeded","Max retry time for operation exceeded, please try again."),t(e))}var o=t;t.g?r(0,new lt(!1,null,!0)):t.c=i(e,r,t.w)};st.prototype.a=function(){return this.u},st.prototype.cancel=function(t){this.g=!0,this.f=t||!1,null!==this.c&&(0,this.c)(!1),null!==this.b&&this.b.abort()};var pt=function(t,e,n){var r=X(t.b),r=t.h+r,o=t.headers?g(t.headers):{};return null!==e&&0<e.length&&(o.Authorization="Firebase "+e),o["X-Firebase-Storage-Version"]="webjs/"+("undefined"!=typeof firebase?firebase.SDK_VERSION:"AppManager"),new st(r,t.method,o,t.body,t.c,t.g,t.j,t.a,t.timeout,0,n)},ht=function(t){this.b=firebase.Promise.reject(t)};ht.prototype.a=function(){return this.b},ht.prototype.cancel=function(){};var dt,bt=function(){this.a={},this.b=Number.MIN_SAFE_INTEGER},yt=function(t,e){function n(){delete o.a[r]}var r=t.b;t.b++,t.a[r]=e;var o=t;e.a().then(n,n)},gt=function(t){y(t.a,function(t,e){e&&e.cancel(!0)}),t.a={}},wt=-1!=$.indexOf("Opera"),vt=-1!=$.indexOf("Trident")||-1!=$.indexOf("MSIE"),mt=-1!=$.indexOf("Edge"),At=!(-1==$.indexOf("Gecko")||-1!=$.toLowerCase().indexOf("webkit")&&-1==$.indexOf("Edge")||-1!=$.indexOf("Trident")||-1!=$.indexOf("MSIE")||-1!=$.indexOf("Edge")),Et=-1!=$.toLowerCase().indexOf("webkit")&&-1==$.indexOf("Edge");t:{var kt="",xt=function(){var t=$;return At?/rv\:([^\);]+)(\)|;)/.exec(t):mt?/Edge\/([\d\.]+)/.exec(t):vt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Et?/WebKit\/(\S+)/.exec(t):wt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(xt&&(kt=xt?xt[1]:""),vt){var St,Rt=e.document;if(St=Rt?Rt.documentMode:void 0,null!=St&&St>parseFloat(kt)){dt=String(St);break t}}dt=kt}var Ut=dt,Tt={},Ot=function(t){return U(t,function(){for(var e=0,n=O(String(Ut)).split("."),r=O(String(t)).split("."),o=Math.max(n.length,r.length),a=0;0==e&&a<o;a++){var i=n[a]||"",u=r[a]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;e=j(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||j(0==i[2].length,0==u[2].length)||j(i[2],u[2]),i=i[3],u=u[3]}while(0==e)}return 0<=e})},jt=function(t,e,n,r,o){if(this.a=t,this.g=null,null!==this.a&&(t=this.a.options,k(t))){if(t=t.storageBucket||null,null==t)t=null;else{var a=null;try{a=N(t)}catch(t){}if(null!==a){if(""!==a.path)throw new c("invalid-default-bucket","Invalid default bucket '"+t+"'.");t=a.bucket}}this.g=t}this.o=e,this.m=n,this.j=o,this.l=r,this.c=12e4,this.b=6e4,this.h=new bt,this.f=!1},Ct=function(t){return null!==t.a&&k(t.a.INTERNAL)&&k(t.a.INTERNAL.getToken)?t.a.INTERNAL.getToken().then(function(t){return k(t)?t.accessToken:null},function(){return null}):firebase.Promise.resolve(null)};jt.prototype.bucket=function(){if(this.f)throw h();return this.g};var It=function(t,e,n){return t.f?new ht(h()):(e=t.m(e,n,null===t.a,t.j),yt(t.h,e),e)},Lt=function(t){var r=e.BlobBuilder||e.WebKitBlobBuilder;if(n(r)){for(var r=new r,o=0;o<arguments.length;o++)r.append(arguments[o]);return r.getBlob()}if(r=it(arguments),o=e.BlobBuilder||e.WebKitBlobBuilder,n(o)){for(var o=new o,a=0;a<r.length;a++)o.append(r[a],void 0);r=o.getBlob(void 0)}else{if(!n(e.Blob))throw Error("This browser doesn't seem to support creating Blobs");r=new Blob(r,{})}return r},Nt=function(t,e,r){return n(r)||(r=t.size),t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?At&&!Ot("13.0")||Et&&!Ot("537.1")?(0>e&&(e+=t.size),0>e&&(e=0),0>r&&(r+=t.size),r<e&&(r=e),t.slice(e,r-e)):t.slice(e,r):null},Bt=function(t,e){S()&&t instanceof Blob?(this.i=t,e=t.size,t=t.type):(t instanceof ArrayBuffer?(e?this.i=new Uint8Array(t):(this.i=new Uint8Array(t.byteLength),this.i.set(new Uint8Array(t))),e=this.i.length):(e?this.i=t:(this.i=new Uint8Array(t.length),this.i.set(t)),e=t.length),t=""),this.a=e,this.b=t};Bt.prototype.type=function(){return this.b},Bt.prototype.slice=function(t,e){return S()&&this.i instanceof Blob?(t=Nt(this.i,t,e),null===t?null:new Bt(t)):(t=new Uint8Array(this.i.buffer,t,e-t),new Bt(t,!0))};var Mt=function(t){var e=[];if(Array.prototype.push.apply(e,arguments),S())return e=at(e,function(t){return t instanceof Bt?t.i:t}),new Bt(Lt.apply(null,e));var e=at(e,function(t){return x(t)?D("raw",t).b.buffer:t.i.buffer}),n=0;rt(e,function(t){n+=t.byteLength});var r=new Uint8Array(n),o=0;return rt(e,function(t){t=new Uint8Array(t);for(var e=0;e<t.length;e++)r[o++]=t[e]}),new Bt(r,!0)},Pt=function(t,e){return e},Ft=function(t,e,n,r){this.c=t,this.b=e||t,this.writable=!!n,this.a=r||Pt},Dt=null,Gt=function(){if(Dt)return Dt;var t=[];t.push(new Ft("bucket")),t.push(new Ft("generation")),t.push(new Ft("metageneration")),t.push(new Ft("name","fullPath",!0));var e=new Ft("name");return e.a=function(t,e){return!x(e)||2>e.length?e:ct(e)},t.push(e),e=new Ft("size"),e.a=function(t,e){return k(e)?+e:e},t.push(e),t.push(new Ft("timeCreated")),t.push(new Ft("updated")),t.push(new Ft("md5Hash",null,!0)),t.push(new Ft("cacheControl",null,!0)),t.push(new Ft("contentDisposition",null,!0)),t.push(new Ft("contentEncoding",null,!0)),t.push(new Ft("contentLanguage",null,!0)),t.push(new Ft("contentType",null,!0)),t.push(new Ft("metadata","customMetadata",!0)),t.push(new Ft("downloadTokens","downloadURLs",!1,function(t,e){if(!(x(e)&&0<e.length))return[];var n=encodeURIComponent;return at(e.split(","),function(e){var r=t.fullPath,r="https://firebasestorage.googleapis.com/v0"+("/b/"+n(t.bucket)+"/o/"+n(r));return e=X({alt:"media",token:e}),r+e})})),Dt=t},_t=function(t,e){Object.defineProperty(t,"ref",{get:function(){return e.o(e,new I(t.bucket,t.fullPath))}})},zt=function(t,e){for(var n={},r=e.length,o=0;o<r;o++){var a=e[o];a.writable&&(n[a.c]=t[a.b])}return JSON.stringify(n)},Xt=function(t){if(!t||"object"!=typeof t)throw"Expected Metadata object.";for(var e in t){var n=t[e];if("customMetadata"===e&&"object"!=typeof n)throw"Expected object for 'customMetadata' mapping."}},Ht=function(t,e,n){for(var r=e.length,o=e.length,a=0;a<e.length;a++)if(e[a].b){r=a;break}if(!(r<=n.length&&n.length<=o))throw r===o?(e=r,r=1===r?"argument":"arguments"):(e="between "+r+" and "+o,r="arguments"),new c("invalid-argument-count","Invalid argument count in `"+t+"`: Expected "+e+" "+r+", received "+n.length+".");for(a=0;a<n.length;a++)try{e[a].a(n[a])}catch(e){if(e instanceof Error)throw p(a,t,e.message);throw p(a,t,e)}},Wt=function(t,e){var r=this;this.a=function(e){r.b&&!n(e)||t(e)},this.b=!!e},qt=function(t,e){return function(n){t(n),e(n)}},Kt=function(t,e){function n(t){if(!("string"==typeof t||t instanceof String))throw"Expected string."}var r;return r=t?qt(n,t):n,new Wt(r,e)},Zt=function(){return new Wt(function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||S()&&t instanceof Blob))throw"Expected Blob or File."})},Jt=function(){return new Wt(function(t){if(!(("number"==typeof t||t instanceof Number)&&0<=t))throw"Expected a number 0 or greater."})},Vt=function(t,e){return new Wt(function(e){if(!(null===e||k(e)&&e instanceof Object))throw"Expected an Object.";k(t)&&t(e)},e)},$t=function(){return new Wt(function(t){if(null!==t&&"function"!=r(t))throw"Expected a Function."},!0)},Yt=function(t){if(!t)throw s()},Qt=function(t,e){return function(n,r){var o;t:{try{o=JSON.parse(r)}catch(t){o=null;break t}n=typeof o,o="object"==n&&null!=o||"function"==n?o:null}if(null===o)o=null;else{n={type:"file"},r=e.length;for(var a=0;a<r;a++){var i=e[a];n[i.b]=i.a(n,o[i.c])}_t(n,t),o=n}return Yt(null!==o),o}},te=function(t){return function(e,n){return e=401===K(e)?new c("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===K(e)?new c("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===K(e)?new c("unauthorized","User does not have permission to access '"+t.path+"'."):n,e.serverResponse=n.serverResponse,e}},ee=function(t){var e=te(t);return function(n,r){var o=e(n,r);return 404===K(n)&&(o=new c("object-not-found","Object '"+t.path+"' does not exist.")),o.serverResponse=r.serverResponse,o}},ne=function(t,e,n){var r=L(e);return t=new v(u+"/v0"+r,"GET",Qt(t,n),t.c),t.a=ee(e),t},re=function(t,e){var n=L(e);return t=new v(u+"/v0"+n,"DELETE",function(){},t.c),t.c=[200,204],t.a=ee(e),t},oe=function(t,e,n){return n=n?g(n):{},n.fullPath=t.path,n.size=e.a,n.contentType||(t=e&&e.type()||"application/octet-stream",n.contentType=t),n},ae=function(t,e,n,r,o){var a,i="/b/"+encodeURIComponent(e.bucket)+"/o",c={"X-Goog-Upload-Protocol":"multipart"};a="";for(var s=0;2>s;s++)a+=Math.random().toString().slice(2);if(c["Content-Type"]="multipart/related; boundary="+a,o=oe(e,r,o),s=zt(o,n),r=Mt("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+s+"\r\n--"+a+"\r\nContent-Type: "+o.contentType+"\r\n\r\n",r,"\r\n--"+a+"--"),null===r)throw f();return t=new v(u+"/v0"+i,"POST",Qt(t,n),t.b),t.b={name:o.fullPath},t.headers=c,t.body=r.i,t.a=te(e),t},ie=function(t,e,n,r){this.a=t,this.b=e,this.c=!!n,this.f=r||null},ue=function(t,e){var n;try{n=t.a.getResponseHeader("X-Goog-Upload-Status")}catch(t){Yt(!1)}return t=0<=nt(e||["active"],n),Yt(t),n},ce=function(t,e,n,r,o){var a="/b/"+encodeURIComponent(e.bucket)+"/o",i=oe(e,r,o);return o={name:i.fullPath},a=u+"/v0"+a,r={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.a,"X-Goog-Upload-Header-Content-Type":i.contentType,"Content-Type":"application/json; charset=utf-8"},n=zt(i,n),t=new v(a,"POST",function(t){ue(t);var e;try{e=t.a.getResponseHeader("X-Goog-Upload-URL")}catch(t){Yt(!1)}return Yt(x(e)),e},t.b),t.b=o,t.headers=r,t.body=n,t.a=te(e),t},se=function(t,e,n,r){return t=new v(n,"POST",function(t){var e,n=ue(t,["active","final"]);try{e=t.a.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){Yt(!1)}return t=e,isFinite(t)&&(t=String(t)),t=o(t)?/^\s*-?0x/i.test(t)?parseInt(t,16):parseInt(t,10):NaN,Yt(!isNaN(t)),new ie(t,r.a,"final"===n)},t.b),t.headers={"X-Goog-Upload-Command":"query"},t.a=te(e),t.f=!1,t},le=function(t,e,n,r,o,a,i){var u=new ie(0,0);if(i?(u.a=i.a,u.b=i.b):(u.a=0,u.b=r.a),r.a!==u.b)throw new c("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var s=i=u.b-u.a;0<o&&(s=Math.min(s,o));var l=u.a;if(o={"X-Goog-Upload-Command":s===i?"upload, finalize":"upload","X-Goog-Upload-Offset":u.a},i=r.slice(l,l+s),null===i)throw f();return n=new v(n,"POST",function(t,n){var o,i=ue(t,["active","final"]),c=u.a+s,l=r.a;return o="final"===i?Qt(e,a)(t,n):null,new ie(c,l,"final"===i,o)},e.b),n.headers=o,n.body=i.i,n.l=null,n.a=te(t),n.f=!1,n},fe=function(t,e,n,r,o,a){this.L=t,this.c=e,this.l=n,this.f=o,this.h=a||null,this.s=r,this.m=0,this.D=this.u=!1,this.B=[],this.S=262144<this.f.a,this.b="running",this.a=this.v=this.g=null,this.j=1;var i=this;this.F=function(t){i.a=null,i.j=1,"storage/canceled"===t.code?(i.u=!0,Ae(i)):(i.g=t,me(i,"error"))},this.P=function(t){i.a=null,"storage/canceled"===t.code?Ae(i):(i.g=t,me(i,"error"))},this.A=this.o=null,this.C=w(function(t,e){i.o=t,i.A=e,pe(i)}),this.C.then(null,function(){})},pe=function(t){"running"===t.b&&null===t.a&&(t.S?null===t.v?de(t):t.u?be(t):t.D?ge(t):ye(t):we(t))},he=function(t,e){Ct(t.c).then(function(n){switch(t.b){case"running":e(n);break;case"canceling":me(t,"canceled");break;case"pausing":me(t,"paused")}})},de=function(t){he(t,function(e){var n=ce(t.c,t.l,t.s,t.f,t.h);t.a=It(t.c,n,e),t.a.a().then(function(e){t.a=null,t.v=e,t.u=!1,Ae(t)},this.F)})},be=function(t){var e=t.v;he(t,function(n){var r=se(t.c,t.l,e,t.f);t.a=It(t.c,r,n),t.a.a().then(function(e){t.a=null,ve(t,e.a),t.u=!1,e.c&&(t.D=!0),Ae(t)},t.F)})},ye=function(t){var e=262144*t.j,n=new ie(t.m,t.f.a),r=t.v;he(t,function(o){var a;try{a=le(t.l,t.c,r,t.f,e,t.s,n)}catch(e){return t.g=e,void me(t,"error")}t.a=It(t.c,a,o),t.a.a().then(function(e){33554432>262144*t.j&&(t.j*=2),t.a=null,ve(t,e.a),e.c?(t.h=e.f,me(t,"success")):Ae(t)},t.F)})},ge=function(t){he(t,function(e){var n=ne(t.c,t.l,t.s);t.a=It(t.c,n,e),t.a.a().then(function(e){t.a=null,t.h=e,me(t,"success")},t.P)})},we=function(t){he(t,function(e){var n=ae(t.c,t.l,t.s,t.f,t.h);t.a=It(t.c,n,e),t.a.a().then(function(e){t.a=null,t.h=e,ve(t,t.f.a),me(t,"success")},t.F)})},ve=function(t,e){var n=t.m;t.m=e,t.m>n&&ke(t)},me=function(t,e){if(t.b!==e)switch(e){case"canceling":t.b=e,null!==t.a&&t.a.cancel();break;case"pausing":t.b=e,null!==t.a&&t.a.cancel();break;case"running":var n="paused"===t.b;t.b=e,n&&(ke(t),pe(t));break;case"paused":t.b=e,ke(t);break;case"canceled":t.g=l(),t.b=e,ke(t);break;case"error":t.b=e,ke(t);break;case"success":t.b=e,ke(t)}},Ae=function(t){switch(t.b){case"pausing":me(t,"paused");break;case"canceling":me(t,"canceled");break;case"running":pe(t)}};fe.prototype.w=function(){return new J(this.m,this.f.a,E(this.b),this.h,this,this.L)},fe.prototype.M=function(t,e,r,o){function a(t){try{return void u(t)}catch(t){}try{if(c(t),!(n(t.next)||n(t.error)||n(t.complete)))throw""}catch(t){throw"Expected a function or an Object with one of `next`, `error`, `complete` properties."}}function i(t){return function(e,n,r){null!==t&&Ht("on",t,arguments);var o=new B(e,n,r);return Ee(s,o),function(){var t=s.B,e=nt(t,o);0<=e&&(Y(null!=t.length),Array.prototype.splice.call(t,e,1))}}}var u=$t().a,c=Vt(null,!0).a;Ht("on",[Kt(function(){if("state_changed"!==t)throw"Expected one of the event types: [state_changed]."}),Vt(a,!0),$t(),$t()],arguments);var s=this,l=[Vt(function(t){if(null===t)throw"Expected a function or an Object with one of `next`, `error`, `complete` properties.";a(t)}),$t(),$t()];return n(e)||n(r)||n(o)?i(null)(e,r,o):i(l)},fe.prototype.then=function(t,e){return this.C.then(t,e)};var Ee=function(t,e){t.B.push(e),Se(t,e)},ke=function(t){xe(t);var e=it(t.B);rt(e,function(e){Se(t,e)})},xe=function(t){if(null!==t.o){var e=!0;switch(E(t.b)){case"success":C(t.o.bind(null,t.w()))();break;case"canceled":case"error":C(t.A.bind(null,t.g))();break;default:e=!1}e&&(t.o=null,t.A=null)}},Se=function(t,e){switch(E(t.b)){case"running":case"paused":null!==e.c&&C(e.c.bind(e,t.w()))();break;case"success":null!==e.b&&C(e.b.bind(e))();break;case"canceled":case"error":null!==e.a&&C(e.a.bind(e,t.g))();break;default:null!==e.a&&C(e.a.bind(e,t.g))()}};fe.prototype.O=function(){Ht("resume",[],arguments);var t="paused"===this.b||"pausing"===this.b;return t&&me(this,"running"),t},fe.prototype.N=function(){Ht("pause",[],arguments);var t="running"===this.b;return t&&me(this,"pausing"),t},fe.prototype.cancel=function(){Ht("cancel",[],arguments);var t="running"===this.b||"pausing"===this.b;return t&&me(this,"canceling"),t};var Re=function(t,e){if(this.b=t,e)this.a=e instanceof I?e:N(e);else{if(t=t.bucket(),null===t)throw new c("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");this.a=new I(t,"")}};Re.prototype.toString=function(){return Ht("toString",[],arguments),"gs://"+this.a.bucket+"/"+this.a.path};var Ue=function(t,e){return new Re(t,e)};t=Re.prototype,t.H=function(t){Ht("child",[Kt()],arguments);var e=ut(this.a.path,t);return Ue(this.b,new I(this.a.bucket,e))},t.ka=function(){var t;if(t=this.a.path,0==t.length)t=null;else{var e=t.lastIndexOf("/");t=-1===e?"":t.slice(0,e)}return null===t?null:Ue(this.b,new I(this.a.bucket,t))},t.ma=function(){return Ue(this.b,new I(this.a.bucket,""))},t.U=function(){return this.a.bucket},t.fa=function(){return this.a.path},t.ja=function(){return ct(this.a.path)},t.oa=function(){return this.b.l},t.Z=function(t,e){return Ht("put",[Zt(),new Wt(Xt,!0)],arguments),Te(this,"put"),new fe(this,this.b,this.a,Gt(),new Bt(t),e)},t.$=function(t,e,n){Ht("putString",[Kt(),Kt(P,!0),new Wt(Xt,!0)],arguments),Te(this,"putString");var r=D(k(e)?e:"raw",t),o=n?g(n):{};return!k(o.contentType)&&k(r.a)&&(o.contentType=r.a),new fe(this,this.b,this.a,Gt(),new Bt(r.b,!0),o)},t.X=function(){Ht("delete",[],arguments),Te(this,"delete");var t=this;return Ct(this.b).then(function(e){var n=re(t.b,t.a);return It(t.b,n,e).a()})},t.I=function(){Ht("getMetadata",[],arguments),Te(this,"getMetadata");var t=this;return Ct(this.b).then(function(e){var n=ne(t.b,t.a,Gt());return It(t.b,n,e).a()})},t.aa=function(t){Ht("updateMetadata",[new Wt(Xt,void 0)],arguments),Te(this,"updateMetadata");var e=this;return Ct(this.b).then(function(n){var r=e.b,o=e.a,a=t,i=Gt(),c=L(o),c=u+"/v0"+c,a=zt(a,i),r=new v(c,"PATCH",Qt(r,i),r.c);return r.headers={"Content-Type":"application/json; charset=utf-8"},r.body=a,r.a=ee(o),It(e.b,r,n).a()})},t.Y=function(){return Ht("getDownloadURL",[],arguments),Te(this,"getDownloadURL"),this.I().then(function(t){if(t=t.downloadURLs[0],k(t))return t;throw new c("no-download-url","The given file does not have any download URLs.")})};var Te=function(t,e){if(""===t.a.path)throw new c("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")},Oe=function(t,e){this.a=new jt(t,function(t,e){return new Re(t,e)},pt,this,k(e)?e:new et),this.b=t,this.c=new je(this)};t=Oe.prototype,t.ba=function(t){Ht("ref",[Kt(function(t){if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments);var e=new Re(this.a);return n(t)?e.H(t):e},t.ca=function(t){return Ht("refFromURL",[Kt(function(t){if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{N(t)}catch(t){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new Re(this.a,t)},t.ha=function(){return this.a.b},t.ea=function(t){Ht("setMaxUploadRetryTime",[Jt()],arguments),this.a.b=t},t.ga=function(){return this.a.c},t.da=function(t){Ht("setMaxOperationRetryTime",[Jt()],arguments),this.a.c=t},t.T=function(){return this.b},t.R=function(){return this.c};var je=function(t){this.a=t};je.prototype.b=function(){var t=this.a.a;t.f=!0,t.a=null,gt(t.h)};var Ce=function(t,e,n){Object.defineProperty(t,e,{get:n})};Re.prototype.toString=Re.prototype.toString,Re.prototype.child=Re.prototype.H,Re.prototype.put=Re.prototype.Z,Re.prototype.putString=Re.prototype.$,Re.prototype.delete=Re.prototype.X,Re.prototype.getMetadata=Re.prototype.I,Re.prototype.updateMetadata=Re.prototype.aa,Re.prototype.getDownloadURL=Re.prototype.Y,Ce(Re.prototype,"parent",Re.prototype.ka),Ce(Re.prototype,"root",Re.prototype.ma),Ce(Re.prototype,"bucket",Re.prototype.U),Ce(Re.prototype,"fullPath",Re.prototype.fa),Ce(Re.prototype,"name",Re.prototype.ja),Ce(Re.prototype,"storage",Re.prototype.oa),Oe.prototype.ref=Oe.prototype.ba,Oe.prototype.refFromURL=Oe.prototype.ca,Ce(Oe.prototype,"maxOperationRetryTime",Oe.prototype.ga),Oe.prototype.setMaxOperationRetryTime=Oe.prototype.da,Ce(Oe.prototype,"maxUploadRetryTime",Oe.prototype.ha),Oe.prototype.setMaxUploadRetryTime=Oe.prototype.ea,Ce(Oe.prototype,"app",Oe.prototype.T),Ce(Oe.prototype,"INTERNAL",Oe.prototype.R),je.prototype.delete=je.prototype.b,Oe.prototype.capi_=function(t){u=t},fe.prototype.on=fe.prototype.M,fe.prototype.resume=fe.prototype.O,fe.prototype.pause=fe.prototype.N,fe.prototype.cancel=fe.prototype.cancel,Ce(fe.prototype,"snapshot",fe.prototype.w),Ce(J.prototype,"bytesTransferred",J.prototype.V),Ce(J.prototype,"totalBytes",J.prototype.qa),Ce(J.prototype,"state",J.prototype.na),Ce(J.prototype,"metadata",J.prototype.ia),Ce(J.prototype,"downloadURL",J.prototype.W),Ce(J.prototype,"task",J.prototype.pa),Ce(J.prototype,"ref",J.prototype.la),m.STATE_CHANGED="state_changed",A.RUNNING="running",A.PAUSED="paused",A.SUCCESS="success",A.CANCELED="canceled",A.ERROR="error",M.RAW="raw",M.BASE64="base64",M.BASE64URL="base64url",M.DATA_URL="data_url",function(){function t(t){return new Oe(t)}var e={TaskState:A,TaskEvent:m,StringFormat:M,Storage:Oe,Reference:Re};if("undefined"==typeof firebase)throw Error("Cannot install Firebase Storage - be sure to load firebase-app.js first.");firebase.INTERNAL.registerService("storage",t,e)}()}).call(this);